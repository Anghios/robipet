version: '3.8'

services:
  app:
    image: bansheetech/robipet:latest
    # build:
    #   context: .
    #   dockerfile: Dockerfile
    container_name: robipet
    ports:
      - "29724:8081"
    volumes:
      # Persistir la base de datos SQLite
      - sqlite_data:/var/www/html/api
      # En desarrollo, montar código para hot reload (comentar en producción)
      # - ./api:/var/www/html/api
      # - ./dist:/var/www/html
    environment:
      - APACHE_RUN_USER=www-data
      - APACHE_RUN_GROUP=www-data
    restart: unless-stopped

volumes:
  sqlite_data: