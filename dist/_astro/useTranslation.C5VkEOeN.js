import{r as a}from"./index.CaZlGE7t.js";const j=()=>{const[n,l]=a.useState("en"),[u,i]=a.useState({}),[f,c]=a.useState(!0);a.useEffect(()=>{const e=localStorage.getItem("locale");e&&(e==="es"||e==="en")&&l(e)},[]),a.useEffect(()=>{p(n)},[n]);const p=async e=>{try{c(!0);let s=Date.now();try{s=(await(await fetch("/version.json")).json()).timestamp||Date.now()}catch{}const t=await(await fetch(`/locales/${e}.json?v=${s}`)).json();i(t),c(!1)}catch(s){if(console.error("Error loading translations:",s),e!=="en")try{const t=await(await fetch(`/locales/en.json?v=${Date.now()}`)).json();i(t)}catch(o){console.error("Error loading fallback translations:",o)}c(!1)}};return{t:(e,s)=>{const o=e.split(".");let t=u;for(const r of o)t=t?.[r];return typeof t!="string"?(console.warn(`Translation not found for key: ${e}`),e):s?Object.entries(s).reduce((r,[g,h])=>r.replace(new RegExp(`\\{${g}\\}`,"g"),String(h)),t):t},locale:n,changeLanguage:e=>{localStorage.setItem("locale",e),l(e)},getCurrentLanguage:()=>n,loading:f,isSpanish:n==="es",isEnglish:n==="en"}};export{j as u};
